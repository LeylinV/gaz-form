{"ast":null,"code":"import _asyncToGenerator from \"C:/projects/gazprom/formApplication/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport useComplexForm from '@/compositions/useComplexForm';\nimport Alert from '@/components/Alert';\nimport { useStore } from 'vuex';\nimport AppDatePicker from \"@/core/AppDatePicker.vue\";\nimport AppLabel from \"@/core/AppLabel.vue\";\nimport AppInput from \"@/core/AppInput.vue\";\nimport AppSelect from \"@/core/AppSelect.vue\";\nimport store from \"@/store\";\nexport default {\n  data: function data() {\n    return {\n      accountOptions: [],\n      typeOptions: [],\n      verificationTypes: [],\n      reasonForSealingTypes: [],\n      counterPlaceTypes: [],\n      defectTypes: [],\n      debtPercentageTypes: [],\n      currentType: ''\n    };\n  },\n  emits: ['selectFromSelect'],\n  created: function created() {\n    var _this = this;\n\n    return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              store.dispatch('complexForm/getAccounts').then(function (value) {\n                //if (!value.error) {\n                _this.accountOptions = value; //}\n              });\n              store.dispatch('complexForm/getRequestTypes').then(function (value) {\n                //if (!value.error) {\n                _this.typeOptions = value; //}\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    GetSelectSelected: function GetSelectSelected(value) {\n      this.handleAddress(value);\n    },\n    GetTypeSelected: function GetTypeSelected(value) {\n      this.currentType = +value;\n    }\n  },\n  watch: {\n    currentType: function currentType(newType) {\n      var _this2 = this;\n\n      if (newType === 5) {\n        store.dispatch('complexForm/getVerificationTypes').then(function (value) {\n          //if (!value.error) {\n          _this2.verificationTypes = value; //}\n        });\n      }\n\n      if (newType === 7) {\n        store.dispatch('complexForm/getReasonForSealingTypes').then(function (value) {\n          //if (!value.error) {\n          _this2.reasonForSealingTypes = value; //}\n        });\n        store.dispatch('complexForm/getCounterPlaceTypes').then(function (value) {\n          //if (!value.error) {\n          _this2.counterPlaceTypes = value; //}\n        });\n      }\n\n      if (newType === 8) {\n        store.dispatch('complexForm/getDefectTypes').then(function (value) {\n          //if (!value.error) {\n          _this2.defectTypes = value; //}\n        });\n      }\n\n      if (newType === 10) {\n        store.dispatch('complexForm/getDebtPercentageTypes').then(function (value) {\n          //if (!value.error) {\n          _this2.debtPercentageTypes = value; //}\n        });\n      }\n    }\n  },\n  setup: function setup() {\n    var initialValues = getInitVals();\n\n    var _useComplexForm = useComplexForm(initialValues, {\n      social: true\n    }),\n        onSubmit = _useComplexForm.onSubmit,\n        submitModal = _useComplexForm.submitModal,\n        loading = _useComplexForm.loading,\n        handleValidForm = _useComplexForm.handleValidForm,\n        handleAddress = _useComplexForm.handleAddress;\n\n    var files = [];\n    return {\n      onSubmit: onSubmit,\n      submitModal: submitModal,\n      loading: loading,\n      handleValidForm: handleValidForm,\n      handleAddress: handleAddress,\n      files: files\n    };\n  },\n  components: {\n    AppSelect: AppSelect,\n    AppInput: AppInput,\n    AppLabel: AppLabel,\n    AppDatePicker: AppDatePicker,\n    Alert: Alert,\n    ComplexFormLayout: require('@/components/ComplexFormLayout').default,\n    ComplexFormToolbar: require('@/components/ComplexFormToolbar').default,\n    ComplexFormModal: require('@/components/ComplexFormModal').default\n  }\n};\n\nfunction getInitVals() {\n  return {\n    comment: '',\n    files: null,\n    agree: \"\",\n    emailme: \"\"\n  };\n}","map":{"version":3,"mappings":";;AAyHA,OAAOA,cAAP,MAA2B,+BAA3B;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,SAASC,QAAT,QAAyB,MAAzB;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,eAAe;AACbC,MADa,kBACP;AACJ,WAAO;AACLC,oBAAc,EAAE,EADX;AAELC,iBAAW,EAAE,EAFR;AAGLC,uBAAiB,EAAE,EAHd;AAILC,2BAAqB,EAAE,EAJlB;AAKLC,uBAAiB,EAAE,EALd;AAMLC,iBAAW,EAAE,EANR;AAOLC,yBAAmB,EAAE,EAPhB;AAQLC,iBAAW,EAAE;AARR,KAAP;AAUD,GAZY;AAabC,OAAK,EAAE,CAAC,kBAAD,CAbM;AAcPC,SAdO,qBAcG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEdX,mBAAK,CAACY,QAAN,CAAe,yBAAf,EAA0CC,IAA1C,CAA+C,UAACC,KAAD,EAAW;AACtD;AACE,qBAAI,CAACZ,cAAL,GAAsBY,KAAtB,CAFoD,CAGtD;AACH,eAJD;AAMAd,mBAAK,CAACY,QAAN,CAAe,6BAAf,EAA8CC,IAA9C,CAAmD,UAACC,KAAD,EAAW;AAC1D;AACE,qBAAI,CAACX,WAAL,GAAmBW,KAAnB,CAFwD,CAG1D;AACH,eAJD;;AARc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcf,GA5BY;AA6BbC,SAAO,EAAE;AACLC,qBADK,6BACaF,KADb,EACoB;AACvB,WAAKG,aAAL,CAAmBH,KAAnB;AACD,KAHI;AAILI,mBAJK,2BAIWJ,KAJX,EAIiB;AACpB,WAAKL,WAAL,GAAoB,CAACK,KAArB;AACF;AANK,GA7BI;AAqCbK,OAAK,EAAE;AACLV,eADK,uBACOW,OADP,EACgB;AAAA;;AACnB,UAAIA,OAAM,KAAM,CAAhB,EAAmB;AACjBpB,aAAK,CAACY,QAAN,CAAe,kCAAf,EAAmDC,IAAnD,CAAwD,UAACC,KAAD,EAAU;AAChE;AACA,gBAAI,CAACV,iBAAL,GAAyBU,KAAzB,CAFgE,CAGhE;AACD,SAJD;AAKF;;AACA,UAAIM,OAAM,KAAM,CAAhB,EAAmB;AACjBpB,aAAK,CAACY,QAAN,CAAe,sCAAf,EAAuDC,IAAvD,CAA4D,UAACC,KAAD,EAAU;AACpE;AACA,gBAAI,CAACT,qBAAL,GAA6BS,KAA7B,CAFoE,CAGpE;AACD,SAJD;AAKAd,aAAK,CAACY,QAAN,CAAe,kCAAf,EAAmDC,IAAnD,CAAwD,UAACC,KAAD,EAAU;AAChE;AACA,gBAAI,CAACR,iBAAL,GAAyBQ,KAAzB,CAFgE,CAGhE;AACD,SAJD;AAKF;;AACA,UAAIM,OAAM,KAAM,CAAhB,EAAmB;AACjBpB,aAAK,CAACY,QAAN,CAAe,4BAAf,EAA6CC,IAA7C,CAAkD,UAACC,KAAD,EAAU;AAC1D;AACA,gBAAI,CAACP,WAAL,GAAmBO,KAAnB,CAF0D,CAG1D;AACD,SAJD;AAKF;;AACA,UAAIM,OAAM,KAAM,EAAhB,EAAoB;AAClBpB,aAAK,CAACY,QAAN,CAAe,oCAAf,EAAqDC,IAArD,CAA0D,UAACC,KAAD,EAAU;AAClE;AACA,gBAAI,CAACN,mBAAL,GAA2BM,KAA3B,CAFkE,CAGlE;AACD,SAJD;AAKF;AACF;AAnCK,GArCM;AA0EbO,OA1Ea,mBA0EL;AACN,QAAMC,aAAY,GAAIC,WAAW,EAAjC;;AACA,0BAA0E9B,cAAc,CAAC6B,aAAD,EAAgB;AAAEE,YAAM,EAAE;AAAV,KAAhB,CAAxF;AAAA,QAAQC,QAAR,mBAAQA,QAAR;AAAA,QAAkBC,WAAlB,mBAAkBA,WAAlB;AAAA,QAA+BC,OAA/B,mBAA+BA,OAA/B;AAAA,QAAwCC,eAAxC,mBAAwCA,eAAxC;AAAA,QAAyDX,aAAzD,mBAAyDA,aAAzD;;AACA,QAAMY,KAAI,GAAI,EAAd;AAEA,WAAO;AACHJ,cAAQ,EAARA,QADG;AAEHC,iBAAW,EAAXA,WAFG;AAGHC,aAAO,EAAPA,OAHG;AAIHC,qBAAe,EAAfA,eAJG;AAKHX,mBAAa,EAAbA,aALG;AAMHY,WAAK,EAALA;AANG,KAAP;AAQD,GAvFY;AAwFbC,YAAU,EAAE;AACV/B,aAAS,EAATA,SADU;AAEVD,YAAQ,EAARA,QAFU;AAGVD,YAAQ,EAARA,QAHU;AAIVD,iBAAa,EAAbA,aAJU;AAKVF,SAAK,EAALA,KALU;AAMVqC,qBAAiB,EAAEC,OAAO,CAAC,gCAAD,CAAP,CAA0CC,OANnD;AAOVC,sBAAkB,EAAEF,OAAO,CAAC,iCAAD,CAAP,CAA2CC,OAPrD;AAQVE,oBAAgB,EAAEH,OAAO,CAAC,+BAAD,CAAP,CAAyCC;AARjD;AAxFC,CAAf;;AAoGA,SAASV,WAAT,GAAuB;AAIrB,SAAO;AACLa,WAAO,EAAE,EADJ;AAELP,SAAK,EAAE,IAFF;AAGLQ,SAAK,EAAE,EAHF;AAILC,WAAO,EAAE;AAJJ,GAAP;AAOF","names":["useComplexForm","Alert","useStore","AppDatePicker","AppLabel","AppInput","AppSelect","store","data","accountOptions","typeOptions","verificationTypes","reasonForSealingTypes","counterPlaceTypes","defectTypes","debtPercentageTypes","currentType","emits","created","dispatch","then","value","methods","GetSelectSelected","handleAddress","GetTypeSelected","watch","newType","setup","initialValues","getInitVals","social","onSubmit","submitModal","loading","handleValidForm","files","components","ComplexFormLayout","require","default","ComplexFormToolbar","ComplexFormModal","comment","agree","emailme"],"sourceRoot":"","sources":["C:\\projects\\gazprom\\formApplication\\src\\components\\EmptyForm.vue"],"sourcesContent":["<template>\n  <div>\n    <form>\n      <AppFieldset>\n        <Alert>Перед заполнением формы заявления убедитесь в том, что лицевой счет привязан к данной учетной записи!<br><br>Обращаем Ваше внимание на то, что подача онлайн-заявления потребует его подписания с помощью мобильного приложения Госключ!</Alert>\n        <AppInput name=\"uploaded_files\" type=\"hidden\" />\n        <AppSelect\n            name=\"type\"\n            rules=\"required\"\n            label=\"Тип заявки\"\n            :options=\"typeOptions\"\n            @selectFromSelect=\"GetTypeSelected\"\n        />\n        <AppInput name=\"last_name\" rules=\"required\" label=\"Фамилия\" />\n        <AppInput name=\"name\" rules=\"required\" label=\"Имя\" />\n        <AppInput name=\"second_name\" label=\"Отчество\" />\n        <AppInput name=\"snils\" rules=\"required\" label=\"СНИЛС\" v-maska=\"'###-###-###-##'\"/>\n        <AppInput type=\"tel\" name=\"phone\" rules=\"required\" label=\"Телефон\" />\n        <AppInput type=\"email\" name=\"email\" rules=\"required|email\" label=\"Электронная почта\" />\n        <AppSelect\n            name=\"account\"\n            rules=\"required\"\n            label=\"Номер лицевого счета\"\n            :options=\"accountOptions\"\n            infomessage=\"Необходимо привязать хотя бы один лицевой счет\"\n            @selectFromSelect=\"GetSelectSelected\"\n        />\n        <AppInput type=\"text\" name=\"address\" rules=\"required\" label=\"Адрес\"/>\n        <template v-if=\"currentType === 1\">\n          <AppInput type=\"textarea\" name=\"comment\" rules=\"required\" label=\"Текст заявления\" />\n        </template>\n        <template v-if=\"currentType === 2\">\n          <AppLabel label=\"Период расчетов\" required />\n          <AppDatePicker label=\"Период расчетов с\" name=\"period_first\" rules=\"required\" />\n          <AppDatePicker label=\"Период расчетов по\" name=\"period_first\" rules=\"required\" />\n        </template>\n        <template v-if=\"currentType === 3\">\n          <AppInput type=\"text\" name=\"device_name\" rules=\"required\" label=\"Наименование прибора учета газа\" />\n          <AppInput type=\"number\" name=\"device_indication\" rules=\"required\" label=\"Показание\"/>\n        </template>\n        <template v-if=\"currentType === 4\">\n          <AppInput type=\"text\" name=\"derection_target\" rules=\"required\" label=\"Цель направления контролера\" />\n        </template>\n        <template v-if=\"currentType === 5\">\n          <AppInput type=\"text\" name=\"org_name\" rules=\"required\" label=\"Наименование организации поверителя\" />\n          <AppDatePicker name=\"verification_end\" rules=\"required\" label=\"Дата истечения срока поверки\" />\n          <AppSelect\n              name=\"verification\"\n              rules=\"required\"\n              label=\"Поверка проведена\"\n              :options=\"verificationTypes\"\n              infomessage=\"Необходимо выбрать время проведение поверки\"\n          />\n        </template>\n        <template v-if=\"currentType === 6\">\n          <AppLabel label=\"Период приостановки начислений за сетевой газ\" required />\n          <AppDatePicker label=\"с\" name=\"period_stop_first\" rules=\"required\" />\n          <AppDatePicker label=\"по\" name=\"period_second_first\" rules=\"required\" />\n          <AppInput type=\"number\" name=\"device_current_indication\" rules=\"required\" label=\"Текущие показания (м3)\"/>\n        </template>\n        <template v-if=\"currentType === 7\">\n          <AppSelect\n              name=\"sealing\"\n              rules=\"required\"\n              label=\"Поверка проведена\"\n              :options=\"reasonForSealingTypes\"\n              infomessage=\"Необходимо выбрать время проведение поверки\"\n          />\n          Причина опломбировки селект 1. первичная установка прибора учета газа\n          2. установка прибора учета газа после его демонтажа для проведения проверки\n          3. установка прибора учета газа после его демонтажа для проведения ремонта\n          4. замена прибора учета газа\n          5. повреждение ранее установленных пломб\n          если 5: Причина повреждения - строка\n          Место установки счетчика селекет:\n          - в отапливаемом помещении\n          - в неотапливаемом помещении\n          - вне помещения\n        </template>\n        <template v-if=\"currentType === 8\">\n          Дата выявления неисправности ПУГ (счетчика газа)* - дата\n          Характер неисправности ПУГ - селект:\n          1 погасло электронное табло\n          2 повреждения корпуса\n          3 повреждения счетного механизма\n          4 прочее\n          если 4: Описание характера неисправности ПУГ - строка\n        </template>\n        <template v-if=\"currentType === 9\">\n          Размер задолженности на текущую дату (рублей) - число\n          Дата погашения долга - дата\n          Дата оплаты стоимости услуг по ограничению и возобновлению поставки газа - дата\n          Период подключения к газопроводу - дата - дата\n        </template>\n        <template v-if=\"currentType === 10\">\n          Размер задолженности на текущую дату (рублей) - число\n          Предммет заявления селект:\n          - не производить приостановление подачи газа\n          - согласовать возобновление подачи газа\n          К погашению на 1 этапе (до подписания Соглашения о рассрочке), % долга: селект:\n          - 50 %\n          - 60 %\n          - 70 %\n          Количество месяцев рассрочки для оставшейся части долга - число\n        </template>\n        <AppFile :filename=\"files\" name=\"files\" label=\"Вложения\" accept=\".jpg,.jpeg,.png,.doc,.docx,.pdf\" multiple />\n        <AppCheck name=\"agree\" label=\"Разъяснения получены, на необходимые перерасчеты согласен\" rules=\"required\" value=\"yes\"/>\n        <AppCheck name=\"emailme\" label=\"Прошу направлять счет-извещения по указанному в данном заявлении адресу электронной почты\" value=\"yes\"/>\n      </AppFieldset>\n      <br>\n      <hr>\n      <ComplexFormToolbar @submit=\"onSubmit\" @showModal=\"submitModal = true\" @handleValidForm=\"handleValidForm\"/>\n    </form>\n    <AppModal v-model=\"submitModal\">\n      <ComplexFormModal @submit=\"onSubmit\" @hideModal=\"submitModal = false\" />\n    </AppModal>\n    <AppLoading :showing=\"loading\" />\n  </div>\n</template>\n\n<script>\nimport useComplexForm from '@/compositions/useComplexForm';\nimport Alert from '@/components/Alert';\nimport { useStore } from 'vuex';\nimport AppDatePicker from \"@/core/AppDatePicker.vue\";\nimport AppLabel from \"@/core/AppLabel.vue\";\nimport AppInput from \"@/core/AppInput.vue\";\nimport AppSelect from \"@/core/AppSelect.vue\";\nimport store from \"@/store\";\n\nexport default {\n  data(){\n    return {\n      accountOptions: [],\n      typeOptions: [],\n      verificationTypes: [],\n      reasonForSealingTypes: [],\n      counterPlaceTypes: [],\n      defectTypes: [],\n      debtPercentageTypes: [],\n      currentType: '',\n    }\n  },\n  emits: ['selectFromSelect'],\n  async created() {\n\n    store.dispatch('complexForm/getAccounts').then((value) => {\n        //if (!value.error) {\n          this.accountOptions = value;\n        //}\n    });\n\n    store.dispatch('complexForm/getRequestTypes').then((value) => {\n        //if (!value.error) {\n          this.typeOptions = value;\n        //}\n    });\n\n  },\n  methods: {\n      GetSelectSelected(value) {\n        this.handleAddress(value);\n      },\n      GetTypeSelected(value){\n        this.currentType  = +value\n      }\n  },\n  watch: {\n    currentType(newType) {\n      if (newType === 5) {\n        store.dispatch('complexForm/getVerificationTypes').then((value) =>{\n          //if (!value.error) {\n          this.verificationTypes = value;\n          //}\n        })\n      }\n      if (newType === 7) {\n        store.dispatch('complexForm/getReasonForSealingTypes').then((value) =>{\n          //if (!value.error) {\n          this.reasonForSealingTypes = value;\n          //}\n        })\n        store.dispatch('complexForm/getCounterPlaceTypes').then((value) =>{\n          //if (!value.error) {\n          this.counterPlaceTypes = value;\n          //}\n        })\n      }\n      if (newType === 8) {\n        store.dispatch('complexForm/getDefectTypes').then((value) =>{\n          //if (!value.error) {\n          this.defectTypes = value;\n          //}\n        })\n      }\n      if (newType === 10) {\n        store.dispatch('complexForm/getDebtPercentageTypes').then((value) =>{\n          //if (!value.error) {\n          this.debtPercentageTypes = value;\n          //}\n        })\n      }\n    }\n  },\n  setup() {\n    const initialValues = getInitVals();\n    const { onSubmit, submitModal, loading, handleValidForm, handleAddress} = useComplexForm(initialValues, { social: true });\n    const files = [];\n\n    return {\n        onSubmit,\n        submitModal,\n        loading,\n        handleValidForm,\n        handleAddress,\n        files,\n    };\n  },\n  components: {\n    AppSelect,\n    AppInput,\n    AppLabel,\n    AppDatePicker,\n    Alert,\n    ComplexFormLayout: require('@/components/ComplexFormLayout').default,\n    ComplexFormToolbar: require('@/components/ComplexFormToolbar').default,\n    ComplexFormModal: require('@/components/ComplexFormModal').default,\n  },\n};\n\nfunction getInitVals() {\n\n\n\n  return {\n    comment: '',\n    files: null,\n    agree: \"\",\n    emailme: \"\"\n\n  };\n}\n</script>\n"]},"metadata":{},"sourceType":"module"}