{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-6d45cd34\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"mb-4\"\n};\nvar _hoisted_2 = [\"id\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_AppLabel = _resolveComponent(\"AppLabel\");\n\n  var _component_AppErrMsg = _resolveComponent(\"AppErrMsg\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_AppLabel, {\n    label: $props.label,\n    for: $props.nameFirst,\n    required: $setup.hasRequiredRule\n  }, null, 8\n  /* PROPS */\n  , [\"label\", \"for\", \"required\"]), _createElementVNode(\"input\", {\n    id: $props.nameFirst,\n    class: \"app-input\",\n    type: \"text\",\n    ref: \"datePicker\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_2), _createVNode(_component_AppErrMsg, {\n    msg: $setup.errorMessage\n  }, null, 8\n  /* PROPS */\n  , [\"msg\"])]);\n}","map":{"version":3,"mappings":";;;;;;;AACOA,OAAK,EAAC;;;;;;;;uBAAXC,oBAIM,KAJN,cAIM,CAHJC,aAAwEC,mBAAxE,EAAwE;AAA7DC,SAAK,EAAEC,YAAsD;AAA9CC,OAAG,EAAED,gBAAyC;AAA7BE,YAAQ,EAAEC;AAAmB,GAAxE;;AAAA,iCAGI,EAFJC,oBAAwE,OAAxE,EAAwE;AAAhEC,MAAE,EAAEL,gBAA4D;AAAjDL,SAAK,EAAC,WAA2C;AAA/BW,QAAI,EAAC,MAA0B;AAAnBC,OAAG,EAAC;AAAe,GAAxE;;AAAA,eAEI,EADJV,aAAiCW,oBAAjC,EAAiC;AAArBC,OAAG,EAAEN;AAAgB,GAAjC,EAA6B,IAA7B,EAA6B;AAAA;AAA7B,IAA6B,OAA7B,CACI,CAJN","names":["class","_createElementBlock","_createVNode","_component_AppLabel","label","$props","for","required","$setup","_createElementVNode","id","type","ref","_component_AppErrMsg","msg"],"sourceRoot":"","sources":["C:\\projects\\gazprom\\formApplication\\src\\core\\AppDatePicker.vue"],"sourcesContent":["<template>\n  <div class=\"mb-4\">\n    <AppLabel :label=\"label\" :for=\"nameFirst\" :required=\"hasRequiredRule\" />\n    <input :id=\"nameFirst\" class=\"app-input\" type=\"text\" ref=\"datePicker\" />\n    <AppErrMsg :msg=\"errorMessage\" />\n  </div>\n</template>\n\n<script>\nimport { h, ref, onMounted, toRefs } from 'vue';\nimport { Field, useField } from 'vee-validate';\nimport useRules from '@/compositions/useRules';\nimport 'daterangepicker/daterangepicker.css'; // Подключение стилей DateRangePicker\nimport 'daterangepicker'; // Подключение библиотеки DateRangePicker\n\nexport default {\n  props: {\n    nameFirst: String,\n    label: String,\n    rules: String,\n  },\n  setup(props) {\n    const { nameFirst, rules, label } = toRefs(props);\n\n    const { value, errorMessage, handleChange } = useField(nameFirst, rules, {\n      label: props.label,\n    });\n\n    const { hasRequiredRule } = useRules(rules);\n\n    const datePickerRef = ref(null);\n\n    onMounted(() => {\n      // Инициализация DateRangePicker\n      $(datePickerRef.value).daterangepicker({\n        opens: 'left', // Выбор положения календаря\n        autoUpdateInput: false, // Отключение автоматического обновления поля ввода\n        locale: {\n          format: 'DD.MM.YYYY', // Формат даты\n        },\n      });\n\n      // Обработчик изменения диапазона дат\n      $(datePickerRef.value).on('apply.daterangepicker', (event, picker) => {\n        handleChange(picker.startDate.format('YYYY-MM-DD') + ' - ' + picker.endDate.format('YYYY-MM-DD'));\n        $(datePickerRef.value).val(picker.startDate.format('DD.MM.YYYY') + ' - ' + picker.endDate.format('DD.MM.YYYY'));\n      });\n    });\n\n    return {\n      datePickerRef,\n      errorMessage,\n      hasRequiredRule,\n      AppErrMsg: resolveComponent('AppErrorMessage'),\n      AppLabel: resolveComponent('AppLabel'),\n    };\n  },\n};\n</script>\n\n<style scoped>\n.app-input {\n  @apply tw-border tw-border-gray-400 tw-rounded-lg tw-h-8 tw-px-2 tw-block tw-w-full;\n}\n.app-input:hover,\n.app-input:focus {\n  @apply tw-border-primary;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}