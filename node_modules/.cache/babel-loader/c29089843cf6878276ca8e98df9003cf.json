{"ast":null,"code":"import { useStore } from 'vuex';\nexport default function () {\n  const store = useStore();\n\n  const getEmail = async (cb = () => {}) => {\n    try {\n      const data = await store.dispatch('complexForm/getEmail');\n      if (!data?.email) throw 'Email is invalid';else {\n        cb(data.email);\n      }\n    } catch (e) {\n      console.log(e);\n      alert('Не удалось загрузить E-mail пользователя. Впишите E-mail вручную');\n    }\n  };\n\n  return {\n    getEmail\n  };\n}","map":{"version":3,"sources":["C:/projects/gazprom/formApplication/src/compositions/useEmail.js"],"names":["useStore","store","getEmail","cb","data","dispatch","email","e","console","log","alert"],"mappings":"AAAA,SAASA,QAAT,QAAyB,MAAzB;AAEA,eAAe,YAAY;AACzB,QAAMC,KAAK,GAAGD,QAAQ,EAAtB;;AAEA,QAAME,QAAQ,GAAG,OAAOC,EAAE,GAAG,MAAM,CAAE,CAApB,KAAyB;AACxC,QAAI;AACF,YAAMC,IAAI,GAAG,MAAMH,KAAK,CAACI,QAAN,CAAe,sBAAf,CAAnB;AACA,UAAI,CAACD,IAAI,EAAEE,KAAX,EAAkB,MAAM,kBAAN,CAAlB,KACK;AACHH,QAAAA,EAAE,CAACC,IAAI,CAACE,KAAN,CAAF;AACD;AACF,KAND,CAME,OAAMC,CAAN,EAAS;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACAG,MAAAA,KAAK,CAAC,kEAAD,CAAL;AACD;AACF,GAXD;;AAaA,SAAO;AACLR,IAAAA;AADK,GAAP;AAGD","sourcesContent":["import { useStore } from 'vuex';\n\nexport default function () {\n  const store = useStore();\n\n  const getEmail = async (cb = () => {}) => {\n    try {\n      const data = await store.dispatch('complexForm/getEmail');\n      if (!data?.email) throw 'Email is invalid';\n      else {\n        cb(data.email);\n      }\n    } catch(e) {\n      console.log(e);\n      alert('Не удалось загрузить E-mail пользователя. Впишите E-mail вручную');\n    }\n  };\n\n  return {\n    getEmail,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}