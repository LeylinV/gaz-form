{"ast":null,"code":"import { serialize } from 'object-to-formdata';\nimport cleaner from 'deep-cleaner';\nexport default {\n  namespaced: true,\n  actions: {\n    //В режиме редактирования http://localhost:8080/contract/request/emptyapplication/48/edit/?id=48\n    async show(_c, {\n      id\n    }) {\n      return {\n        \"request\": {\n          \"id\": \"48\",\n          \"id_1c\": \"\",\n          \"contractor_id\": \"\",\n          \"contract_id\": \"\",\n          \"connection_point_id\": \"\",\n          \"connection_id\": \"\",\n          \"area_id\": \"\",\n          \"type\": 38,\n          \"status\": \"Черновик\",\n          \"eds_date\": 0,\n          \"comment\": \"Текст\",\n          \"create_date\": 1689310777,\n          \"files\": [157],\n          \"eds\": \"\",\n          \"data\": {\n            \"type\": \"38\",\n            \"last_name\": \"Иванов\",\n            \"name\": \"Иван\",\n            \"second_name\": \"Иванович\",\n            \"snils\": \"111-111-111-11\",\n            \"phone\": \"+79171234567\",\n            \"email\": \"ivanov@test.ru\",\n            \"account\": \"72\",\n            \"address\": \"Ул. Новосибирская 4к2\",\n            \"comment\": \"Текст\",\n            \"agree\": \"yes\",\n            \"emailme\": \"no\",\n            \"files\": [157]\n          },\n          \"user\": \"1\",\n          \"applicant_changed_date\": 1689311512,\n          \"return_reason\": \"\",\n          \"can_write_message\": \"\",\n          \"send_date\": 0\n        }\n      };\n    },\n\n    async getFilesData(_c, {\n      file\n    }) {\n      return [{\n        \"id\": 157,\n        \"bx_id\": 323,\n        \"read_only\": 0,\n        \"src\": \"/upload/uf/d4b/kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n        \"name\": \"kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n        \"original_name\": \"photo1689241692.jpeg\",\n        \"type\": \"image/jpeg\",\n        \"size\": \"153336\"\n      }];\n    },\n\n    async getUserData() {\n      return {\n        \"email\": \"ivanov@test.ru\",\n        \"name\": \"Иван\",\n        \"last_name\": \"Иванов\",\n        \"second_name\": \"Иванович\",\n        \"phone\": \"+79171234567\"\n      };\n    },\n\n    async getAccounts() {\n      return [{\n        \"label\": \"12345678\",\n        \"value\": \"72\"\n      }, {\n        \"label\": \"11223344\",\n        \"value\": \"2\"\n      }];\n    },\n\n    async getRequestTypes() {\n      return [{\n        \"label\": \"Свободная форма\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"Справка о расчетах (задолженности) за сетевой газ\",\n        \"value\": \"2\"\n      }, {\n        \"label\": \"Перерасчет по фактическому потреблению газа\",\n        \"value\": \"3\"\n      }, {\n        \"label\": \"Направление контролера\",\n        \"value\": \"4\"\n      }, {\n        \"label\": \"О поверке\",\n        \"value\": \"5\"\n      }, {\n        \"label\": \"Уведомление о непредоставлении сведений о показаниях ПУГ (счетчика газа)\",\n        \"value\": \"6\"\n      }, {\n        \"label\": \"Об опломбировке ПУГ (счетчика газа)\",\n        \"value\": \"7\"\n      }, {\n        \"label\": \"Уведомление о неисправности ПУГ (счетчика газа)\",\n        \"value\": \"8\"\n      }, {\n        \"label\": \"О возобновлении поставки газа\",\n        \"value\": \"9\"\n      }, {\n        \"label\": \"О поэтапном погашении задолженности\",\n        \"value\": \"10\"\n      }];\n    },\n\n    async getVerificationTypes() {\n      return [{\n        \"label\": \"до истечения межповерочного периода\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"после истечения межповерочного периода\",\n        \"value\": \"2\"\n      }];\n    },\n\n    async getReasonForSealingTypes() {\n      return [{\n        \"label\": \"первичная установка прибора учета газа\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"установка прибора учета газа после его демонтажа для проведения проверки\",\n        \"value\": \"2\"\n      }, {\n        \"label\": \"установка прибора учета газа после его демонтажа для проведения ремонта\",\n        \"value\": \"3\"\n      }, {\n        \"label\": \"замена прибора учета газа\",\n        \"value\": \"4\"\n      }, {\n        \"label\": \"повреждение ранее установленных пломб\",\n        \"value\": \"5\"\n      }];\n    },\n\n    async getCounterPlaceTypes() {\n      return [{\n        \"label\": \"в отапливаемом помещении\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"в неотапливаемом помещении\",\n        \"value\": \"2\"\n      }, {\n        \"label\": \"вне помещения\",\n        \"value\": \"3\"\n      }];\n    },\n\n    async getDefectTypes() {\n      return [{\n        \"label\": \"погасло электронное табло\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"повреждения корпуса\",\n        \"value\": \"2\"\n      }, {\n        \"label\": \"повреждения счетного механизма\",\n        \"value\": \"3\"\n      }, {\n        \"label\": \"прочее\",\n        \"value\": \"4\"\n      }];\n    },\n\n    async getSubjectApplicationTypes() {\n      return [{\n        \"label\": \"не производить приостановление подачи газа\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"согласовать возобновление подачи газа\",\n        \"value\": \"2\"\n      }];\n    },\n\n    async getDebtPercentageTypes() {\n      return [{\n        \"label\": \"50%\",\n        \"value\": \"1\"\n      }, {\n        \"label\": \"60%\",\n        \"value\": \"2\"\n      }, {\n        \"label\": \"70%\",\n        \"value\": \"3\"\n      }];\n    },\n\n    async getAccountAddress(_c, {\n      accountID\n    }) {\n      const addresses = {\n        72: \"Ул. Новосибирская 4к2\",\n        2: \"Ул. Уфимская 4к2\"\n      };\n      return addresses[accountID];\n    },\n\n    async create(_c, opts) {\n      const {\n        edit = false,\n        social = false,\n        data,\n        meta: {\n          is_draft,\n          is_sign,\n          is_letter,\n          request_id\n        }\n      } = opts;\n      const {\n        comment,\n        files,\n        ...other\n      } = data;\n      const cleanedData = cleaner(other);\n      const json = {\n        comment,\n        files,\n        request_id,\n        is_draft,\n        is_sign,\n        is_letter,\n        data: cleanedData\n      };\n      if (edit) json.id = opts.id;\n      const formData = serialize(json, {\n        indices: true,\n        allowEmptyArrays: true\n      });\n      alert(JSON.stringify(json, null, 2));\n      return {\n        \"errors\": [],\n        \"error_access\": false,\n        \"id\": 51\n      };\n    }\n\n  }\n};","map":{"version":3,"sources":["C:/projects/gazprom/formApplication/src/store/complexForm.js"],"names":["serialize","cleaner","namespaced","actions","show","_c","id","getFilesData","file","getUserData","getAccounts","getRequestTypes","getVerificationTypes","getReasonForSealingTypes","getCounterPlaceTypes","getDefectTypes","getSubjectApplicationTypes","getDebtPercentageTypes","getAccountAddress","accountID","addresses","create","opts","edit","social","data","meta","is_draft","is_sign","is_letter","request_id","comment","files","other","cleanedData","json","formData","indices","allowEmptyArrays","alert","JSON","stringify"],"mappings":"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","sourcesContent":["import {serialize} from 'object-to-formdata';\nimport cleaner from 'deep-cleaner';\n\nexport default {\n    namespaced: true,\n    actions: {\n        //В режиме редактирования http://localhost:8080/contract/request/emptyapplication/48/edit/?id=48\n        async show(_c, {id}) {\n            return {\n                \"request\": {\n                    \"id\": \"48\",\n                    \"id_1c\": \"\",\n                    \"contractor_id\": \"\",\n                    \"contract_id\": \"\",\n                    \"connection_point_id\": \"\",\n                    \"connection_id\": \"\",\n                    \"area_id\": \"\",\n                    \"type\": 38,\n                    \"status\": \"Черновик\",\n                    \"eds_date\": 0,\n                    \"comment\": \"Текст\",\n                    \"create_date\": 1689310777,\n                    \"files\": [\n                        157\n                    ],\n                    \"eds\": \"\",\n                    \"data\": {\n                        \"type\": \"38\",\n                        \"last_name\": \"Иванов\",\n                        \"name\": \"Иван\",\n                        \"second_name\": \"Иванович\",\n                        \"snils\": \"111-111-111-11\",\n                        \"phone\": \"+79171234567\",\n                        \"email\": \"ivanov@test.ru\",\n                        \"account\": \"72\",\n                        \"address\": \"Ул. Новосибирская 4к2\",\n                        \"comment\": \"Текст\",\n                        \"agree\": \"yes\",\n                        \"emailme\": \"no\",\n                        \"files\": [\n                            157\n                        ]\n                    },\n                    \"user\": \"1\",\n                    \"applicant_changed_date\": 1689311512,\n                    \"return_reason\": \"\",\n                    \"can_write_message\": \"\",\n                    \"send_date\": 0\n                }\n            }\n        },\n        async getFilesData(_c, {file}) {\n            return [\n                {\n                    \"id\": 157,\n                    \"bx_id\": 323,\n                    \"read_only\": 0,\n                    \"src\": \"/upload/uf/d4b/kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n                    \"name\": \"kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n                    \"original_name\": \"photo1689241692.jpeg\",\n                    \"type\": \"image/jpeg\",\n                    \"size\": \"153336\"\n                }\n            ]\n        },\n        async getUserData() {\n            return {\n                \"email\": \"ivanov@test.ru\",\n                \"name\": \"Иван\",\n                \"last_name\": \"Иванов\",\n                \"second_name\": \"Иванович\",\n                \"phone\": \"+79171234567\"\n            }\n        },\n        async getAccounts() {\n            return [\n                {\n                    \"label\": \"12345678\",\n                    \"value\": \"72\"\n                },\n                {\n                    \"label\": \"11223344\",\n                    \"value\": \"2\"\n                }\n            ]\n        },\n        async getRequestTypes() {\n            return [\n                {\n                    \"label\": \"Свободная форма\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"Справка о расчетах (задолженности) за сетевой газ\",\n                    \"value\": \"2\"\n                },\n                {\n                    \"label\": \"Перерасчет по фактическому потреблению газа\",\n                    \"value\": \"3\"\n                },\n                {\n                    \"label\": \"Направление контролера\",\n                    \"value\": \"4\"\n                },\n                {\n                    \"label\": \"О поверке\",\n                    \"value\": \"5\"\n                },\n                {\n                    \"label\": \"Уведомление о непредоставлении сведений о показаниях ПУГ (счетчика газа)\",\n                    \"value\": \"6\"\n                },\n                {\n                    \"label\": \"Об опломбировке ПУГ (счетчика газа)\",\n                    \"value\": \"7\"\n                },\n                {\n                    \"label\": \"Уведомление о неисправности ПУГ (счетчика газа)\",\n                    \"value\": \"8\"\n                },\n                {\n                    \"label\": \"О возобновлении поставки газа\",\n                    \"value\": \"9\"\n                },\n                {\n                    \"label\": \"О поэтапном погашении задолженности\",\n                    \"value\": \"10\"\n                },\n            ]\n        },\n        async getVerificationTypes() {\n            return [\n                {\n                    \"label\": \"до истечения межповерочного периода\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"после истечения межповерочного периода\",\n                    \"value\": \"2\"\n                },\n            ]\n        },\n        async getReasonForSealingTypes() {\n            return [\n                {\n                    \"label\": \"первичная установка прибора учета газа\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"установка прибора учета газа после его демонтажа для проведения проверки\",\n                    \"value\": \"2\"\n                },\n                {\n                    \"label\": \"установка прибора учета газа после его демонтажа для проведения ремонта\",\n                    \"value\": \"3\"\n                },\n                {\n                    \"label\": \"замена прибора учета газа\",\n                    \"value\": \"4\"\n                },\n                {\n                    \"label\": \"повреждение ранее установленных пломб\",\n                    \"value\": \"5\"\n                },\n\n            ]\n        },\n        async getCounterPlaceTypes() {\n            return [\n                {\n                    \"label\": \"в отапливаемом помещении\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"в неотапливаемом помещении\",\n                    \"value\": \"2\"\n                },\n                {\n                    \"label\": \"вне помещения\",\n                    \"value\": \"3\"\n                },\n            ]\n        },\n        async getDefectTypes() {\n            return [\n                {\n                    \"label\": \"погасло электронное табло\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"повреждения корпуса\",\n                    \"value\": \"2\"\n                },\n                {\n                    \"label\": \"повреждения счетного механизма\",\n                    \"value\": \"3\"\n                },\n                {\n                    \"label\": \"прочее\",\n                    \"value\": \"4\"\n                },\n            ]\n        },\n        async getSubjectApplicationTypes() {\n            return [\n                {\n                    \"label\": \"не производить приостановление подачи газа\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"согласовать возобновление подачи газа\",\n                    \"value\": \"2\"\n                },\n            ]\n        },\n        async getDebtPercentageTypes() {\n            return [\n                {\n                    \"label\": \"50%\",\n                    \"value\": \"1\"\n                },\n                {\n                    \"label\": \"60%\",\n                    \"value\": \"2\"\n                },\n                {\n                    \"label\": \"70%\",\n                    \"value\": \"3\"\n                },\n            ]\n        },\n        async getAccountAddress(_c, {accountID}) {\n            const addresses = {\n                72: \"Ул. Новосибирская 4к2\",\n                2: \"Ул. Уфимская 4к2\"\n            }\n            return addresses[accountID];\n        },\n        async create(_c, opts) {\n\n            const {\n                edit = false,\n                social = false,\n                data,\n                meta: {is_draft, is_sign, is_letter, request_id},\n            } = opts;\n\n            const {comment, files, ...other} = data;\n\n            const cleanedData = cleaner(other);\n\n            const json = {\n                comment,\n                files,\n                request_id,\n                is_draft,\n                is_sign,\n                is_letter,\n                data: cleanedData,\n            };\n\n            if (edit) json.id = opts.id;\n\n            const formData = serialize(\n                json,\n                {indices: true, allowEmptyArrays: true}\n            );\n\n            alert(JSON.stringify(json, null, 2))\n\n            return {\n                \"errors\": [],\n                \"error_access\": false,\n                \"id\": 51,\n            }\n\n        },\n    },\n};\n"]},"metadata":{},"sourceType":"module"}