{"ast":null,"code":"import { resolveDirective as _resolveDirective, createVNode as _createVNode, withDirectives as _withDirectives, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-261d78a0\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"sm:tw-col-span-3\"\n};\nimport { ref } from 'vue';\nimport Datepicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport AppInput from \"@/core/AppInput.vue\";\nimport useComplexForm from \"@/compositions/useComplexForm\";\nexport default {\n  props: {\n    name: String,\n    label: String,\n    rules: String\n  },\n  emits: ['updateDate'],\n\n  setup(__props, {\n    emit: emits\n  }) {\n    const props = __props;\n    const dates = ref([new Date(), new Date()]);\n\n    const format = dates => {\n      if (dates.length === 0) {\n        return \"\";\n      }\n\n      const formattedDates = dates.map(date => {\n        const day = date.getDate().toString().padStart(2, '0');\n        const month = (date.getMonth() + 1).toString().padStart(2, '0');\n        const year = date.getFullYear();\n        return `${day}.${month}.${year}`;\n      });\n      return formattedDates.join(\" – \");\n    };\n\n    const textInputOptions = {\n      format: ['dd.MM.yyyy', 'dd.MM.yyyy']\n    };\n\n    const handleDate = val => {\n      emits('updateDate', props.name, format(val));\n    };\n\n    return (_ctx, _cache) => {\n      const _directive_maska = _resolveDirective(\"maska\");\n\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_unref(Datepicker), {\n        modelValue: dates.value,\n        \"onUpdate:modelValue\": [_cache[0] || (_cache[0] = $event => dates.value = $event), handleDate],\n        range: \"\",\n        \"partial-range\": false,\n        \"text-input\": textInputOptions,\n        name: \"datepicker\",\n        \"enable-time-picker\": false,\n        \"month-name-format\": \"long\",\n        format: format,\n        locale: \"ru\",\n        \"select-text\": \"Выбрать\",\n        \"cancel-text\": \"Отмена\",\n        position: \"left\",\n        vertical: \"\",\n        clearable: false,\n        \"auto-apply\": \"\"\n      }, {\n        \"dp-input\": _withCtx(({\n          value,\n          onInput,\n          onEnter,\n          onTab,\n          onClear,\n          onBlur,\n          onKeypress,\n          onPaste,\n          isMenuOpen\n        }) => [_withDirectives(_createVNode(AppInput, {\n          type: \"text\",\n          name: props.name,\n          rules: props.rules,\n          label: props.label\n        }, null, 8, [\"name\", \"rules\", \"label\"]), [[_directive_maska, '##.##.#### – ##.##.####']])]),\n        _: 1\n      }, 8, [\"modelValue\"])]);\n    };\n  }\n\n};","map":{"version":3,"mappings":";;;;;;;AAkCA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAO,sCAAP;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;;;;;;;;;;;;;AAQA,UAAMC,KAAK,GAAGJ,GAAG,CAAC,CAAC,IAAIK,IAAJ,EAAD,EAAa,IAAIA,IAAJ,EAAb,CAAD,CAAjB;;AAIA,UAAMC,MAAM,GAAIF,KAAD,IAAW;AAExB,UAAIA,KAAK,CAACG,MAAN,KAAiB,CAArB,EAAwB;AACtB,eAAO,EAAP;AACD;;AAED,YAAMC,cAAc,GAAGJ,KAAK,CAACK,GAAN,CAAWC,IAAD,IAAU;AACzC,cAAMC,GAAG,GAAGD,IAAI,CAACE,OAAL,GAAeC,QAAf,GAA0BC,QAA1B,CAAmC,CAAnC,EAAsC,GAAtC,CAAZ;AACA,cAAMC,KAAK,GAAG,CAACL,IAAI,CAACM,QAAL,KAAkB,CAAnB,EAAsBH,QAAtB,GAAiCC,QAAjC,CAA0C,CAA1C,EAA6C,GAA7C,CAAd;AACA,cAAMG,IAAI,GAAGP,IAAI,CAACQ,WAAL,EAAb;AACA,eAAQ,GAAEP,GAAI,IAAGI,KAAM,IAAGE,IAAK,EAA/B;AACD,OALsB,CAAvB;AAOA,aAAOT,cAAc,CAACW,IAAf,CAAoB,KAApB,CAAP;AACD,KAdD;;AAgBA,UAAMC,gBAAgB,GAAG;AACvBd,YAAM,EAAE,CAAC,YAAD,EAAe,YAAf;AADe,KAAzB;;AAIA,UAAMe,UAAU,GAAIC,GAAD,IAAS;AAC1BC,WAAK,CAAC,YAAD,EAAeC,KAAK,CAACC,IAArB,EAA2BnB,MAAM,CAACgB,GAAD,CAAjC,CAAL;AACD,KAFD","names":["ref","Datepicker","AppInput","useComplexForm","dates","Date","format","length","formattedDates","map","date","day","getDate","toString","padStart","month","getMonth","year","getFullYear","join","textInputOptions","handleDate","val","emits","props","name"],"sources":["C:/projects/gazprom/formApplication/src/core/AppDateInterval.vue"],"sourcesContent":["<template>\r\n  <div class=\"sm:tw-col-span-3\">\r\n    <Datepicker\r\n        v-model=\"dates\"\r\n        range\r\n        :partial-range=\"false\"\r\n        :text-input=\"textInputOptions\"\r\n        name=\"datepicker\"\r\n        :enable-time-picker=\"false\"\r\n        month-name-format=\"long\"\r\n        :format=\"format\"\r\n        locale=\"ru\"\r\n        select-text=\"Выбрать\"\r\n        cancel-text=\"Отмена\"\r\n        position=\"left\"\r\n        vertical\r\n        :clearable=\"false\"\r\n        @update:model-value=\"handleDate\"\r\n        auto-apply\r\n    >\r\n      <template #dp-input=\"{ value, onInput, onEnter, onTab, onClear, onBlur, onKeypress, onPaste, isMenuOpen }\">\r\n        <AppInput\r\n            type=\"text\"\r\n            :name=\"props.name\"\r\n            :rules=\"props.rules\"\r\n            :label=\"props.label\"\r\n            v-maska=\"'##.##.#### – ##.##.####'\"\r\n        />\r\n      </template>\r\n    </Datepicker>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue';\r\nimport Datepicker from '@vuepic/vue-datepicker';\r\nimport '@vuepic/vue-datepicker/dist/main.css';\r\nimport AppInput from \"@/core/AppInput.vue\";\r\nimport useComplexForm from \"@/compositions/useComplexForm\";\r\n\r\nconst props = defineProps({\r\n  name: String,\r\n  label: String,\r\n  rules: String,\r\n});\r\n\r\nconst dates = ref([new Date(), new Date()]);\r\n\r\nconst emits = defineEmits(['updateDate'])\r\n\r\nconst format = (dates) => {\r\n\r\n  if (dates.length === 0) {\r\n    return \"\";\r\n  }\r\n\r\n  const formattedDates = dates.map((date) => {\r\n    const day = date.getDate().toString().padStart(2, '0');\r\n    const month = (date.getMonth() + 1).toString().padStart(2, '0');\r\n    const year = date.getFullYear();\r\n    return `${day}.${month}.${year}`;\r\n  });\r\n\r\n  return formattedDates.join(\" – \");\r\n};\r\n\r\nconst textInputOptions = {\r\n  format: ['dd.MM.yyyy', 'dd.MM.yyyy'],\r\n};\r\n\r\nconst handleDate = (val) => {\r\n  emits('updateDate', props.name, format(val))\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.dp__main{\r\n  font-family: UbuntuLight, sans-serif;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}