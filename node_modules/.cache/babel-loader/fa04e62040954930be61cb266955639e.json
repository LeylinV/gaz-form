{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-6e7e9bc6\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  class: \"mb-4\"\n};\nvar _hoisted_2 = [\"id\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_AppLabel = _resolveComponent(\"AppLabel\");\n\n  var _component_AppErrMsg = _resolveComponent(\"AppErrMsg\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_AppLabel, {\n    label: $props.label,\n    for: $props.nameFirst,\n    required: $setup.hasRequiredRule\n  }, null, 8\n  /* PROPS */\n  , [\"label\", \"for\", \"required\"]), _createElementVNode(\"input\", {\n    id: $props.nameFirst,\n    class: \"app-input\",\n    type: \"text\",\n    ref: \"datePicker\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_2), _createVNode(_component_AppErrMsg, {\n    msg: $setup.errorMessage\n  }, null, 8\n  /* PROPS */\n  , [\"msg\"])]);\n}","map":{"version":3,"mappings":";;;;;;;AACOA,OAAK,EAAC;;;;;;;;uBAAXC,oBAIM,KAJN,cAIM,CAHJC,aAAwEC,mBAAxE,EAAwE;AAA7DC,SAAK,EAAEC,YAAsD;AAA9CC,OAAG,EAAED,gBAAyC;AAA7BE,YAAQ,EAAEC;AAAmB,GAAxE;;AAAA,iCAGI,EAFJC,oBAAwE,OAAxE,EAAwE;AAAhEC,MAAE,EAAEL,gBAA4D;AAAjDL,SAAK,EAAC,WAA2C;AAA/BW,QAAI,EAAC,MAA0B;AAAnBC,OAAG,EAAC;AAAe,GAAxE;;AAAA,eAEI,EADJV,aAAiCW,oBAAjC,EAAiC;AAArBC,OAAG,EAAEN;AAAgB,GAAjC,EAA6B,IAA7B,EAA6B;AAAA;AAA7B,IAA6B,OAA7B,CACI,CAJN","names":["class","_createElementBlock","_createVNode","_component_AppLabel","label","$props","for","required","$setup","_createElementVNode","id","type","ref","_component_AppErrMsg","msg"],"sourceRoot":"","sources":["C:\\projects\\gazprom\\formApplication\\src\\core\\AppDateInterval.vue"],"sourcesContent":["<template>\r\n  <div class=\"mb-4\">\r\n    <AppLabel :label=\"label\" :for=\"nameFirst\" :required=\"hasRequiredRule\" />\r\n    <input :id=\"nameFirst\" class=\"app-input\" type=\"text\" ref=\"datePicker\" />\r\n    <AppErrMsg :msg=\"errorMessage\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { h, ref, onMounted, toRefs } from 'vue';\r\nimport { Field, useField } from 'vee-validate';\r\nimport useRules from '@/compositions/useRules';\r\nimport 'daterangepicker/daterangepicker.css'; // Подключение стилей DateRangePicker\r\nimport 'daterangepicker'; // Подключение библиотеки DateRangePicker\r\n\r\nexport default {\r\n  props: {\r\n    nameFirst: String,\r\n    label: String,\r\n    rules: String,\r\n  },\r\n  setup(props) {\r\n    const { nameFirst, rules, label } = toRefs(props);\r\n\r\n    const { value, errorMessage, handleChange } = useField(nameFirst, rules, {\r\n      label: props.label,\r\n    });\r\n\r\n    const { hasRequiredRule } = useRules(rules);\r\n\r\n    const datePickerRef = ref(null);\r\n\r\n    onMounted(() => {\r\n      // Инициализация DateRangePicker\r\n      $(datePickerRef.value).daterangepicker({\r\n        opens: 'left', // Выбор положения календаря\r\n        autoUpdateInput: false, // Отключение автоматического обновления поля ввода\r\n        locale: {\r\n          format: 'DD.MM.YYYY', // Формат даты\r\n        },\r\n      });\r\n\r\n      // Обработчик изменения диапазона дат\r\n      $(datePickerRef.value).on('apply.daterangepicker', (event, picker) => {\r\n        handleChange(picker.startDate.format('YYYY-MM-DD') + ' - ' + picker.endDate.format('YYYY-MM-DD'));\r\n        $(datePickerRef.value).val(picker.startDate.format('DD.MM.YYYY') + ' - ' + picker.endDate.format('DD.MM.YYYY'));\r\n      });\r\n    });\r\n\r\n    return {\r\n      datePickerRef,\r\n      errorMessage,\r\n      hasRequiredRule,\r\n      AppErrMsg: resolveComponent('AppErrorMessage'),\r\n      AppLabel: resolveComponent('AppLabel'),\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.app-input {\r\n  @apply tw-border tw-border-gray-400 tw-rounded-lg tw-h-8 tw-px-2 tw-block tw-w-full;\r\n}\r\n.app-input:hover,\r\n.app-input:focus {\r\n  @apply tw-border-primary;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}