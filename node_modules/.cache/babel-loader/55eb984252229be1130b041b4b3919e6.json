{"ast":null,"code":"import _asyncToGenerator from \"C:/projects/gazprom/formApplication/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport { useStore } from 'vuex';\nexport default function () {\n  var store = useStore();\n\n  var getUserData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var cb,\n          data,\n          _args = arguments;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              cb = _args.length > 0 && _args[0] !== undefined ? _args[0] : function () {};\n              _context.prev = 1;\n              _context.next = 4;\n              return store.dispatch('complexForm/getUserData');\n\n            case 4:\n              data = _context.sent;\n\n              if (!(data !== null && data !== void 0 && data.error)) {\n                _context.next = 9;\n                break;\n              }\n\n              throw data.errorText;\n\n            case 9:\n              cb(data);\n\n            case 10:\n              _context.next = 16;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n              alert(\"Не удалось получить данные пользователя\");\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 12]]);\n    }));\n\n    return function getUserData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return {\n    getUserData: getUserData\n  };\n}","map":{"version":3,"sources":["C:/projects/gazprom/formApplication/src/compositions/useUserData.js"],"names":["useStore","store","getUserData","cb","dispatch","data","error","errorText","console","log","alert"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,MAAzB;AAEA,eAAe,YAAY;AACzB,MAAMC,KAAK,GAAGD,QAAQ,EAAtB;;AAEA,MAAME,WAAW;AAAA,uEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAOC,cAAAA,EAAP,2DAAY,YAAM,CAAE,CAApB;AAAA;AAAA;AAAA,qBAEGF,KAAK,CAACG,QAAN,CAAe,yBAAf,CAFH;;AAAA;AAEVC,cAAAA,IAFU;;AAAA,oBAGZA,IAHY,aAGZA,IAHY,eAGZA,IAAI,CAAEC,KAHM;AAAA;AAAA;AAAA;;AAAA,oBAGOD,IAAI,CAACE,SAHZ;;AAAA;AAKdJ,cAAAA,EAAE,CAACE,IAAD,CAAF;;AALc;AAAA;AAAA;;AAAA;AAAA;AAAA;AAQhBG,cAAAA,OAAO,CAACC,GAAR;AACAC,cAAAA,KAAK,CAAC,yCAAD,CAAL;;AATgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAXR,WAAW;AAAA;AAAA;AAAA,KAAjB;;AAaA,SAAO;AACLA,IAAAA,WAAW,EAAXA;AADK,GAAP;AAGD","sourcesContent":["import { useStore } from 'vuex';\n\nexport default function () {\n  const store = useStore();\n\n  const getUserData = async (cb = () => {}) => {\n    try {\n      const data = await store.dispatch('complexForm/getUserData');\n      if (data?.error) throw data.errorText;\n      else {\n        cb(data);\n      }\n    } catch(e) {\n      console.log(e);\n      alert(\"Не удалось получить данные пользователя\");\n    }\n  };\n\n  return {\n    getUserData,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}