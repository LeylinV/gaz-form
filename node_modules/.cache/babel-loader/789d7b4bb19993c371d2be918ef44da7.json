{"ast":null,"code":"import _objectWithoutProperties from \"C:/projects/gazprom/formApplication/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _asyncToGenerator from \"C:/projects/gazprom/formApplication/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _excluded = [\"comment\", \"files\"];\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport { serialize } from 'object-to-formdata';\nimport cleaner from 'deep-cleaner';\nexport default {\n  namespaced: true,\n  actions: {\n    //В режиме редактирования http://localhost:8080/contract/request/emptyapplication/48/edit/?id=48\n    show: function show(_c, _ref) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var id;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                id = _ref.id;\n                return _context.abrupt(\"return\", {\n                  \"request\": {\n                    \"id\": \"48\",\n                    \"id_1c\": \"\",\n                    \"contractor_id\": \"\",\n                    \"contract_id\": \"\",\n                    \"connection_point_id\": \"\",\n                    \"connection_id\": \"\",\n                    \"area_id\": \"\",\n                    \"type\": 38,\n                    \"status\": \"Черновик\",\n                    \"eds_date\": 0,\n                    \"comment\": \"Текст\",\n                    \"create_date\": 1689310777,\n                    \"files\": [157],\n                    \"eds\": \"\",\n                    \"data\": {\n                      \"type\": \"38\",\n                      \"last_name\": \"Иванов\",\n                      \"name\": \"Иван\",\n                      \"second_name\": \"Иванович\",\n                      \"snils\": \"111-111-111-11\",\n                      \"phone\": \"+79171234567\",\n                      \"email\": \"ivanov@test.ru\",\n                      \"account\": \"72\",\n                      \"address\": \"Ул. Новосибирская 4к2\",\n                      \"comment\": \"Текст\",\n                      \"agree\": \"yes\",\n                      \"emailme\": \"no\",\n                      \"files\": [157]\n                    },\n                    \"user\": \"1\",\n                    \"applicant_changed_date\": 1689311512,\n                    \"return_reason\": \"\",\n                    \"can_write_message\": \"\",\n                    \"send_date\": 0\n                  }\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getFilesData: function getFilesData(_c, _ref2) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var file;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                file = _ref2.file;\n                return _context2.abrupt(\"return\", [{\n                  \"id\": 157,\n                  \"bx_id\": 323,\n                  \"read_only\": 0,\n                  \"src\": \"/upload/uf/d4b/kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n                  \"name\": \"kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n                  \"original_name\": \"photo1689241692.jpeg\",\n                  \"type\": \"image/jpeg\",\n                  \"size\": \"153336\"\n                }]);\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getUserData: function getUserData() {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", {\n                  \"email\": \"ivanov@test.ru\",\n                  \"name\": \"Иван\",\n                  \"last_name\": \"Иванов\",\n                  \"second_name\": \"Иванович\",\n                  \"phone\": \"+79171234567\"\n                });\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    getAccounts: function getAccounts() {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", [{\n                  \"label\": \"12345678\",\n                  \"value\": \"72\"\n                }, {\n                  \"label\": \"11223344\",\n                  \"value\": \"2\"\n                }]);\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }))();\n    },\n    getRequestTypes: function getRequestTypes() {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", [{\n                  \"label\": \"Свободная форма\",\n                  \"value\": \"1\"\n                }, {\n                  \"label\": \"Справка о расчетах (задолженности) за сетевой газ\",\n                  \"value\": \"2\"\n                }, {\n                  \"label\": \"Перерасчет по фактическому потреблению газа\",\n                  \"value\": \"3\"\n                }, {\n                  \"label\": \"Направление контролера\",\n                  \"value\": \"4\"\n                }, {\n                  \"label\": \"\",\n                  \"value\": \"5\"\n                }, {\n                  \"label\": \"\",\n                  \"value\": \"6\"\n                }, {\n                  \"label\": \"\",\n                  \"value\": \"7\"\n                }, {\n                  \"label\": \"\",\n                  \"value\": \"8\"\n                }, {\n                  \"label\": \"\",\n                  \"value\": \"9\"\n                }, {\n                  \"label\": \"\",\n                  \"value\": \"10\"\n                }]);\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }))();\n    },\n    getAccountAddress: function getAccountAddress(_c, _ref3) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var accountID, addresses;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                accountID = _ref3.accountID;\n                addresses = {\n                  72: \"Ул. Новосибирская 4к2\",\n                  2: \"Ул. Уфимская 4к2\"\n                };\n                return _context6.abrupt(\"return\", addresses[accountID]);\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }))();\n    },\n    create: function create(_c, opts) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var _opts$edit, edit, _opts$social, social, data, _opts$meta, is_draft, is_sign, is_letter, request_id, comment, files, other, cleanedData, json, formData;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _opts$edit = opts.edit, edit = _opts$edit === void 0 ? false : _opts$edit, _opts$social = opts.social, social = _opts$social === void 0 ? false : _opts$social, data = opts.data, _opts$meta = opts.meta, is_draft = _opts$meta.is_draft, is_sign = _opts$meta.is_sign, is_letter = _opts$meta.is_letter, request_id = _opts$meta.request_id;\n                comment = data.comment, files = data.files, other = _objectWithoutProperties(data, _excluded);\n                cleanedData = cleaner(other);\n                json = {\n                  comment: comment,\n                  files: files,\n                  request_id: request_id,\n                  is_draft: is_draft,\n                  is_sign: is_sign,\n                  is_letter: is_letter,\n                  data: cleanedData\n                };\n                if (edit) json.id = opts.id;\n                formData = serialize(json, {\n                  indices: true,\n                  allowEmptyArrays: true\n                });\n                alert(JSON.stringify(json, null, 2));\n                return _context7.abrupt(\"return\", {\n                  \"errors\": [],\n                  \"error_access\": false,\n                  \"id\": 51\n                });\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }))();\n    }\n  }\n};","map":{"version":3,"sources":["C:/projects/gazprom/formApplication/src/store/complexForm.js"],"names":["serialize","cleaner","namespaced","actions","show","_c","id","getFilesData","file","getUserData","getAccounts","getRequestTypes","getAccountAddress","accountID","addresses","create","opts","edit","social","data","meta","is_draft","is_sign","is_letter","request_id","comment","files","other","cleanedData","json","formData","indices","allowEmptyArrays","alert","JSON","stringify"],"mappings":"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","sourcesContent":["import { serialize } from 'object-to-formdata';\nimport cleaner from 'deep-cleaner';\n\nexport default {\n  namespaced: true,\n  actions: {\n    //В режиме редактирования http://localhost:8080/contract/request/emptyapplication/48/edit/?id=48\n    async show(_c, { id }) {\n      return {\n          \"request\": {\n              \"id\": \"48\",\n              \"id_1c\": \"\",\n              \"contractor_id\": \"\",\n              \"contract_id\": \"\",\n              \"connection_point_id\": \"\",\n              \"connection_id\": \"\",\n              \"area_id\": \"\",\n              \"type\": 38,\n              \"status\": \"Черновик\",\n              \"eds_date\": 0,\n              \"comment\": \"Текст\",\n              \"create_date\": 1689310777,\n              \"files\": [\n                  157\n              ],\n              \"eds\": \"\",\n              \"data\": {\n                  \"type\": \"38\",\n                  \"last_name\": \"Иванов\",\n                  \"name\": \"Иван\",\n                  \"second_name\": \"Иванович\",\n                  \"snils\": \"111-111-111-11\",\n                  \"phone\": \"+79171234567\",\n                  \"email\": \"ivanov@test.ru\",\n                  \"account\": \"72\",\n                  \"address\": \"Ул. Новосибирская 4к2\",\n                  \"comment\": \"Текст\",\n                  \"agree\": \"yes\",\n                  \"emailme\": \"no\",\n                  \"files\": [\n                      157\n                  ]\n              },\n              \"user\": \"1\",\n              \"applicant_changed_date\": 1689311512,\n              \"return_reason\": \"\",\n              \"can_write_message\": \"\",\n              \"send_date\": 0\n          }\n      }\n    },\n    async getFilesData(_c, { file }) {\n      return [\n          {\n              \"id\": 157,\n              \"bx_id\": 323,\n              \"read_only\": 0,\n              \"src\": \"/upload/uf/d4b/kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n              \"name\": \"kqe7os8g9qjf1jsyrcyn532xajxsamey.jpeg\",\n              \"original_name\": \"photo1689241692.jpeg\",\n              \"type\": \"image/jpeg\",\n              \"size\": \"153336\"\n          }\n      ]\n    },\n    async getUserData() {\n      return {\n          \"email\": \"ivanov@test.ru\",\n          \"name\": \"Иван\",\n          \"last_name\": \"Иванов\",\n          \"second_name\": \"Иванович\",\n          \"phone\": \"+79171234567\"\n      }\n    },\n    async getAccounts() {\n      return [\n          {\n              \"label\": \"12345678\",\n              \"value\": \"72\"\n          },\n          {\n              \"label\": \"11223344\",\n              \"value\": \"2\"\n          }\n      ]\n    },\n    async getRequestTypes() {\n      return [\n          {\n              \"label\": \"Свободная форма\",\n              \"value\": \"1\"\n          },\n          {\n              \"label\": \"Справка о расчетах (задолженности) за сетевой газ\",\n              \"value\": \"2\"\n          },\n          {\n              \"label\": \"Перерасчет по фактическому потреблению газа\",\n              \"value\": \"3\"\n          },\n          {\n              \"label\": \"Направление контролера\",\n              \"value\": \"4\"\n          },\n          {\n              \"label\": \"\",\n              \"value\": \"5\"\n          },\n          {\n              \"label\": \"\",\n              \"value\": \"6\"\n          },\n          {\n              \"label\": \"\",\n              \"value\": \"7\"\n          },\n          {\n              \"label\": \"\",\n              \"value\": \"8\"\n          },\n          {\n              \"label\": \"\",\n              \"value\": \"9\"\n          },\n          {\n              \"label\": \"\",\n              \"value\": \"10\"\n          },\n      ]\n    },\n    async getAccountAddress(_c, {accountID}) {\n      const addresses = {\n        72: \"Ул. Новосибирская 4к2\",\n        2: \"Ул. Уфимская 4к2\"\n      }\n      return addresses[accountID];\n    },\n    async create(_c, opts) {\n\n      const {\n        edit = false,\n        social = false,\n        data,\n        meta: { is_draft, is_sign, is_letter, request_id },\n      } = opts;\n\n      const { comment, files, ...other } = data;\n\n      const cleanedData = cleaner(other);\n\n      const json = {\n        comment,\n        files,\n        request_id,\n        is_draft,\n        is_sign,\n        is_letter,\n        data: cleanedData,\n      };\n\n      if(edit) json.id = opts.id;\n\n      const formData = serialize(\n        json,\n        { indices: true, allowEmptyArrays: true }\n      );\n\n      alert(JSON.stringify(json, null, 2))\n\n      return {\n          \"errors\": [],\n          \"error_access\": false,\n          \"id\": 51,\n      }\n\n    },\n  },\n};\n"]},"metadata":{},"sourceType":"module"}